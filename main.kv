#:kivy 2.0.0

<Interface>:
    orientation: 'horizontal'
    ImageWithConfig:
        size_hint_x: 0.4
        id: image_promo
        pos: self.pos
        size: self.size
        allow_stretch: True
        keep_ratio: False
        source: self.check_path_promo()
    ImageWithConfig:
        size_hint_x: .6
        id: image_bg
        pos: self.pos
        size: self.size
        allow_stretch: True
        keep_ratio: False
        source: self.check_path_bg()
        BoxLayout:
            orientation: 'vertical'
            size_hint: None, None
            size: image_bg.size
            pos: image_bg.pos
            padding: [32,32,32,32]
            LabelWithConfig:
                id: title_main
                markup: True
                size_hint_y: 0.7
                text_size: self.size
                size: self.texture_size
                bold: True
                padding_x: 56
                text: '{}' .format(self.check_title())
                font_size: '64sp'
                outline_width: 1
                outline_color: (0,0,0)
                halign: 'center'
                valign: 'middle'
            BoxLayout:
                size_hint_y: 0.3
                padding: [30,]
                spacing: '15sp'
                halign: 'center'
                orientation: 'horizontal'
#                Widget:
#                    size_hint_x: .01
                SocialButton:
                    id: btn_yandex
                    on_press: self.open_link(self.yandex_link)
                    pos_hint: {'center_x': 0.3 , 'center_y': .5}
                    opacity: self.hide_btn('Buttons', 'yandex_hide')[0]
                    disabled: self.hide_btn('Buttons', 'yandex_hide')[1]
                    size_hint_x: self.hide_btn('Buttons', 'yandex_hide')[2]
                    canvas.before:
                        Color:
                            rgba: (255/255,255/255,255/255,1)
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [16,]
                    SocialStackLayout:
                        spacing: 16
                        Widget:
                            size_hint_x: .09
                        Image:
                            source: 'source/yandex_icon.png'
                            size_hint_x: None
                            size: 40, self.height
                        Label:
                            size_hint_x: None
                            width: self.width
                            text: "Yandex"
                            font_size: 32
                            bold: True
                            color: 0,0,0,1
                        Widget:
                            size_hint_x: .11
                SocialButton:
                    id: btn_twogis
                    on_press: self.open_link(self.twogis_link)
                    pos_hint: {'center_x': 0.3 , 'center_y': .5}
                    opacity: self.hide_btn('Buttons', 'twogis_hide')[0]
                    disabled: self.hide_btn('Buttons', 'twogis_hide')[1]
                    size_hint_x: self.hide_btn('Buttons', 'twogis_hide')[2]
                    canvas.before:
                        Color:
                            rgba: (163/255,198/255,38/255,1)
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [16,]
                    SocialStackLayout:
                        Widget:
                            size_hint_x: .1
                        Image:
                            source: 'source/2gis_icon.png'
                            size_hint_x: None
                        Widget:
                            size_hint_x: .1
                SocialButton:
                    id: btn_insta
                    on_press: self.open_link(self.insta_link)
                    pos_hint: {'center_x': 0.3 , 'center_y': .5}
                    opacity: self.hide_btn('Buttons', 'insta_hide')[0]
                    disabled: self.hide_btn('Buttons', 'insta_hide')[1]
                    size_hint_x: self.hide_btn('Buttons', 'insta_hide')[2]
                    canvas.before:
                        Color:
                            rgba: (240/255,0/255,115/255,1)
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [16,]
                    SocialStackLayout:
                        spacing: 40
                        Widget:
                            size_hint_x: .09
                        Image:
                            source: 'source/instagram_icon.png'
                            size_hint_x: None
                            size: 40, self.height
                        Label:
                            size_hint_x: None
                            width: self.width
                            text: "Instagram"
                            font_size: 32
                            bold: True
                            color: 1,1,1,1
                        Widget:
                            size_hint_x: .11
                SocialButton:
                    id: btn_vk
                    on_press: self.open_link(self.vk_link)
                    pos_hint: {'center_x': 0.7 , 'center_y': .5}
                    opacity: self.hide_btn('Buttons', 'vk_hide')[0]
                    disabled: self.hide_btn('Buttons', 'vk_hide')[1]
                    size_hint_x: self.hide_btn('Buttons', 'vk_hide')[2]
                    canvas.before:
                        Color:
                            rgba: (24/255,119/255,242/255,1)
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [16,]
                    SocialStackLayout:
                        spacing: 40
                        Widget:
                            size_hint_x: .09
                        Image:
                            source: 'source/vkontakte_icon.png'
                            size_hint_x: None
                            size: 40, self.height
                            allow_stretch: False
                            keep_ratio: True
                        Label:
                            bold: True
                            size_hint_x: None
                            width: self.width
                            text: "Vkontakte"
                            font_size: 32
                            color: 1,1,1,1
                        Widget:
                            size_hint_x: .11
#                Widget:
#                    size_hint_x: .01
<PopupLabel>
    text_size: self.size
    padding_x: 24
    padding_y: 16
    size: self.texture_size
    valign: 'middle'
    halign: 'center'
    font_size: '19sp'

<PopupButtonClose>:
    markup: True
    background_color: 70/255,70/255,70/255,.8
    background_normal: ''
    size_hint: None, None
    size: 300, 100
    font_size: '17sp'

<PopupButtonContinue>:
    markup: True
    background_color: 240 / 255, 0 / 255, 115 / 255, .8
    background_normal: ''
    size_hint: None, None
    size: 300, 100
    font_size: '17sp'

<SocialButton>:
    markup: True
    background_color: 1,1,1,0
    background_normal: ''
    size_hint_y: None
    size: self.texture_size
    height: 100

<SocialStackLayout@BoxLayout>:
    orientation: 'horizontal'
    pos: self.parent.pos
    size: self.parent.size